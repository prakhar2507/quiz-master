{% extends 'user_base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="fw-bold">{{ quiz.name }}</h2>
    <p><strong>Subject:</strong> {{ quiz.chapter.subject.name }}</p>
    <p><strong>Chapter:</strong> {{ quiz.chapter.name }}</p>

    <form method="POST" action="{{ url_for('user.attempt_quiz', quiz_id=quiz.id) }}">
        <input type="hidden" name="quiz_id" value="{{ quiz.id }}">
        
        {% for question in quiz.questions %}
        <div class="card p-3 mb-3">
            <h5>{{ question.question_text }}</h5>
            
            <div class="form-check">
                <input class="form-check-input" type="radio" name="{{ question.id }}" value="A" required>
                <label class="form-check-label">{{ question.option_a }}</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="{{ question.id }}" value="B">
                <label class="form-check-label">{{ question.option_b }}</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="{{ question.id }}" value="C">
                <label class="form-check-label">{{ question.option_c }}</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="{{ question.id }}" value="D">
                <label class="form-check-label">{{ question.option_d }}</label>
            </div>
        </div>
        {% endfor %}
    
        <button type="submit" class="btn btn-primary w-100">Submit Quiz</button>
    </form>    
</div>
{% endblock %}
