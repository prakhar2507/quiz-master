{% extends 'user_base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="fw-bold text-center">üìù Select a Quiz</h2>

    <div class="card p-3 shadow-sm">
        <h4 class="fw-bold">Available Quizzes</h4>

        {% if quizzes %}
            <ul class="list-group">
                {% for quiz in quizzes %}
                    <li class="list-group-item">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div>
                                <strong>{{ quiz.name }}</strong> 
                                <span class="text-muted">({{ quiz.chapter.subject.name }} - {{ quiz.chapter.name }})</span>
                            </div>
                            <a href="{{ url_for('user.attempt_quiz', quiz_id=quiz.id) }}" class="btn btn-primary btn-sm">
                                Attempt Quiz
                            </a>
                        </div>
                        <div class="d-flex justify-content-between small text-muted">
                            <div>
                                <i class="fas fa-calendar-alt"></i> <strong>Start:</strong> {{ quiz.start_time.strftime('%Y-%m-%d %H:%M') }}
                            </div>
                            <div>
                                <i class="fas fa-calendar-check"></i> <strong>End:</strong> {{ quiz.end_time.strftime('%Y-%m-%d %H:%M') }}
                            </div>
                            <div>
                                <i class="fas fa-clock"></i> <strong>Duration:</strong> {{ quiz.duration }} minutes
                            </div>
                            <div>
                                <i class="fas fa-star"></i> <strong>Max Marks:</strong> {{ quiz.max_marks }}
                            </div>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">No quizzes available at the moment.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
